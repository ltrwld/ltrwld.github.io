<!DOCTYPE html>
<html>
  <head>
    <title>3 AR Wall - CERQ</title>
    <meta name="description" content="AR Wall - CERQ">
	 <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
	 <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
	 
	  <script src="js/multiMarkersName.js"></script>
	</head>

	<style>
		.garden {
width : 200px;
height: 200px;
border: 5px solid #CCC;
border-radius: 10px;
}

.ball {
position: absolute;
top   : 90px;
left  : 90px;
width : 20px;
height: 20px;
background: green;
border-radius: 100%;
}

	</style>

	<body style="width: 100vw !important;
	height: 100vh !important; margin : 0px; overflow: hidden;">
		<a-scene id="aframe-scene"
				 cursor='rayOrigin: mouse; fuse: true; fuseTimeout: 0;'
				 raycaster="objects: .clickable"
				 markers_start
				 vr-mode-ui="enabled: false" 
				 color-space="sRGB" 
				 renderer="gammaOutput: true" 
				 embedded arjs='debugUIEnabled: false; 
				 				sourceType: webcam; 
								patternRatio: 0.85; 
								trackingMethod: best;' 
				 embedded
				 gesture-detector>
			<a-assets>
				<img id="Marker_1" src="content/block-1.png">
				<img id="Marker_2" src="content/block-2.png">
				<img id="Marker_3" src="https://picsum.photos/200/500">
				<img id="Marker_4" src="content/block-4.png">
				<img id="Marker_5" src="content/block-5.png">
				<img id="Marker_6" src="https://picsum.photos/200">
				<img id="Marker_7" src="https://picsum.photos/200">
				<img id="Marker_8" src="https://picsum.photos/200">
				<img id="Marker_9" src="https://picsum.photos/200">
				<img id="Marker_10" src="https://picsum.photos/200">
				<img id="Marker_11" src="https://picsum.photos/200">
				<img id="Marker_12" src="https://picsum.photos/200">
				<img id="Marker_13" src="https://picsum.photos/200">
				<img id="Marker_14" src="https://picsum.photos/200">
				<img id="Marker_15" src="https://picsum.photos/200">
				<img id="Marker_16" src="https://picsum.photos/200">
				<img id="Marker_17" src="https://picsum.photos/200">
				<img id="Marker_18" src="https://picsum.photos/200">
				<img id="Marker_19" src="https://picsum.photos/200">
				<img id="Marker_20" src="https://picsum.photos/700">
				<img id="Marker_21" src="https://picsum.photos/200">
				<img id="Marker_22" src="https://picsum.photos/200">
				<img id="Marker_23" src="https://picsum.photos/800/400">
			</a-assets>
    		<a-entity id='userCamera' camera>
				
    		</a-entity>
		</a-scene>

		<div class="garden">
			<div class="ball"></div>
		  </div>
		<pre class="output"></pre>


		<script>
			const ball   = document.querySelector('.ball');
const garden = document.querySelector('.garden');
const output = document.querySelector('.output');

const maxX = garden.clientWidth  - ball.clientWidth;
const maxY = garden.clientHeight - ball.clientHeight;

function handleOrientation(event) {
let x = event.beta;  // In degree in the range [-180,180)
let y = event.gamma; // In degree in the range [-90,90)

output.textContent  = `beta : ${x}\n`;
output.textContent += `gamma: ${y}\n`;

// Because we don't want to have the device upside down
// We constrain the x value to the range [-90,90]
if (x >  90) { x =  90};
if (x < -90) { x = -90};

// To make computation easier we shift the range of
// x and y to [0,180]
x += 90;
y += 90;

// 10 is half the size of the ball
// It center the positioning point to the center of the ball
ball.style.top  = `${maxY * y / 180 - 10}px`;
ball.style.left = `${maxX * x / 180 - 10}px`;
}

window.addEventListener('deviceorientation', handleOrientation);

		</script>

	</body>
</html>
